import{_ as se,a as y,o as oe,c as r,b as e,C as p,A as s,p as a,z as u,m as g,t as n,F as T,d as x,G as le,E as m,Z as ne,j as ae,k as i,f as d}from"./index-Ntw4s37F.js";const ce={class:"news-detail modern-page"},ie={class:"page-header"},ue={class:"header-content"},re={class:"header-left"},de={class:"header-actions"},_e={class:"news-content"},me={class:"news-header"},ve={class:"news-category"},pe={class:"news-title"},he={class:"news-meta"},ye={class:"meta-item"},Ce={class:"meta-item"},fe={class:"meta-item"},ge={key:0,class:"meta-item"},ke={key:0,class:"news-tags"},we={key:0,class:"news-cover"},be=["src","alt"],Te={key:1,class:"news-summary"},xe={class:"summary-content"},Ie={class:"news-body"},De=["innerHTML"],Ne={class:"news-footer"},Se={class:"news-actions"},Ve={class:"news-info"},$e={class:"info-item"},Le={class:"info-value"},Ee={key:0,class:"info-item"},Me={class:"info-value"},ze={class:"info-item"},Ae={class:"info-value"},Be={key:0,class:"related-news"},Fe={class:"modern-card"},He={class:"card-body"},Re={class:"related-list"},Ye=["onClick"],Ue={key:0,class:"related-cover"},je=["src","alt"],Ge={class:"related-content"},Oe={class:"related-title"},Ze={class:"related-summary"},qe={class:"related-meta"},Je={key:1,class:"comments-section"},Ke={class:"modern-card"},Pe={class:"card-header"},Qe={class:"card-body"},We={class:"comment-form"},Xe={class:"comment-actions"},et={key:0,class:"comments-list"},tt={class:"comment-avatar"},st={class:"comment-content"},ot={class:"comment-header"},lt={class:"comment-author"},nt={class:"comment-time"},at={class:"comment-text"},ct={class:"comment-actions"},it={key:1,class:"empty-comments"},ut={__name:"NewsDetail",setup(rt){const L=le(),I=ae(),t=y({id:"",title:"",category:"",author:"",publishTime:"",updateTime:"",viewCount:0,likeCount:0,collectCount:0,commentCount:0,coverImage:"",summary:"",content:"",tags:[],allowComment:!0}),b=y([]),k=y([]),h=y(""),C=y(!1),f=y(!1),E=y(!1),M=async()=>{try{const c=L.params.id;t.value={id:c,title:"公司2024年第一季度业绩报告发布",category:"company",author:"张三",publishTime:"2024-06-20 10:00:00",updateTime:"2024-06-20 14:30:00",viewCount:1256,likeCount:89,collectCount:45,commentCount:12,coverImage:"https://via.placeholder.com/800x450",summary:"本季度公司业绩表现优异，各项指标均超预期完成，营收同比增长25%，净利润同比增长30%。",content:`
        <p>尊敬的各位股东、员工和合作伙伴：</p>
        <p>我们很高兴向大家报告公司2024年第一季度的业绩情况。本季度，公司在全体员工的共同努力下，取得了优异的业绩表现。</p>
        <h3>主要业绩指标</h3>
        <ul>
          <li>营业收入：5.2亿元，同比增长25%</li>
          <li>净利润：8500万元，同比增长30%</li>
          <li>毛利率：45.2%，同比提升2.1个百分点</li>
          <li>新增客户：1200家，同比增长40%</li>
        </ul>
        <h3>业务亮点</h3>
        <p>本季度，公司在以下几个方面取得了重要进展：</p>
        <ol>
          <li><strong>产品创新</strong>：推出了3款新产品，获得市场积极反响</li>
          <li><strong>市场拓展</strong>：成功进入5个新的地区市场</li>
          <li><strong>技术升级</strong>：完成了核心系统的升级改造</li>
          <li><strong>团队建设</strong>：新增员工200人，团队实力进一步增强</li>
        </ol>
        <p>展望未来，我们将继续坚持创新驱动发展战略，为客户提供更优质的产品和服务。</p>
      `,tags:["业绩报告","第一季度","财务数据"],allowComment:!0},b.value=[{id:"2",title:'公司荣获"年度最佳雇主"称号',summary:"在刚刚结束的年度评选中，公司凭借优秀的企业文化和员工关怀政策...",coverImage:"https://via.placeholder.com/200x120",publishTime:"2024-06-18 15:30:00",viewCount:856},{id:"3",title:"新产品发布会圆满举行",summary:"6月15日，公司在北京举行了新产品发布会，正式推出了三款创新产品...",coverImage:"https://via.placeholder.com/200x120",publishTime:"2024-06-15 09:00:00",viewCount:1024}],k.value=[{id:1,author:"李四",avatar:"",content:"业绩表现确实不错，期待下个季度继续保持！",createTime:"2024-06-20 11:30:00",likeCount:5},{id:2,author:"王五",avatar:"",content:"新产品的市场反响如何？希望能看到更详细的数据。",createTime:"2024-06-20 12:15:00",likeCount:3}],t.value.viewCount++}catch{m.error("加载资讯详情失败")}},z=()=>{I.push(`/dashboard/news/edit/${t.value.id}`)},D=()=>{m.success("分享链接已复制到剪贴板")},A=async()=>{try{C.value=!C.value,C.value?(t.value.likeCount++,m.success("点赞成功")):(t.value.likeCount--,m.success("取消点赞"))}catch{m.error("操作失败")}},B=async()=>{try{f.value=!f.value,f.value?(t.value.collectCount++,m.success("收藏成功")):(t.value.collectCount--,m.success("取消收藏"))}catch{m.error("操作失败")}},F=async()=>{if(h.value.trim())try{const c={id:Date.now(),author:"当前用户",avatar:"",content:h.value,createTime:new Date().toISOString(),likeCount:0};k.value.unshift(c),t.value.commentCount++,h.value="",m.success("评论发表成功")}catch{m.error("发表评论失败")}},H=c=>{h.value=`@${c.author} `},R=c=>{c.likeCount=(c.likeCount||0)+1,m.success("点赞成功")},Y=c=>{I.push(`/dashboard/news/${c}`)},w=c=>ne(c).format("YYYY-MM-DD HH:mm"),U=c=>({company:"primary",industry:"success",product:"warning",activity:"info",other:"default"})[c]||"default",j=c=>({company:"公司新闻",industry:"行业动态",product:"产品更新",activity:"活动通知",other:"其他"})[c]||"未知";return oe(()=>{M()}),(c,o)=>{const G=u("ArrowLeft"),_=u("el-icon"),v=u("el-button"),N=u("Share"),O=u("Edit"),S=u("el-tag"),Z=u("User"),q=u("Clock"),J=u("View"),K=u("ChatDotRound"),P=u("StarFilled"),V=u("Star"),Q=u("CollectionTag"),W=u("Collection"),X=u("el-input"),ee=u("el-avatar"),te=u("el-empty");return i(),r("div",ce,[e("div",ie,[e("div",ue,[e("div",re,[s(v,{type:"text",onClick:o[0]||(o[0]=l=>c.$router.go(-1)),class:"back-btn"},{default:a(()=>[s(_,null,{default:a(()=>[s(G)]),_:1}),o[2]||(o[2]=d(" 返回 "))]),_:1,__:[2]})]),e("div",de,[s(v,{onClick:D,class:"modern-btn secondary"},{default:a(()=>[s(_,null,{default:a(()=>[s(N)]),_:1}),o[3]||(o[3]=d(" 分享 "))]),_:1,__:[3]}),E.value?(i(),g(v,{key:0,type:"primary",onClick:z,class:"modern-btn primary"},{default:a(()=>[s(_,null,{default:a(()=>[s(O)]),_:1}),o[4]||(o[4]=d(" 编辑 "))]),_:1,__:[4]})):p("",!0)])])]),e("div",_e,[e("div",me,[e("div",ve,[s(S,{type:U(t.value.category)},{default:a(()=>[d(n(j(t.value.category)),1)]),_:1},8,["type"])]),e("h1",pe,n(t.value.title),1),e("div",he,[e("div",ye,[s(_,null,{default:a(()=>[s(Z)]),_:1}),e("span",null,n(t.value.author),1)]),e("div",Ce,[s(_,null,{default:a(()=>[s(q)]),_:1}),e("span",null,n(w(t.value.publishTime)),1)]),e("div",fe,[s(_,null,{default:a(()=>[s(J)]),_:1}),e("span",null,n(t.value.viewCount)+" 次阅读",1)]),t.value.commentCount>0?(i(),r("div",ge,[s(_,null,{default:a(()=>[s(K)]),_:1}),e("span",null,n(t.value.commentCount)+" 条评论",1)])):p("",!0)]),t.value.tags&&t.value.tags.length>0?(i(),r("div",ke,[(i(!0),r(T,null,x(t.value.tags,l=>(i(),g(S,{key:l,size:"small",effect:"plain",class:"tag-item"},{default:a(()=>[d(n(l),1)]),_:2},1024))),128))])):p("",!0)]),t.value.coverImage?(i(),r("div",we,[e("img",{src:t.value.coverImage,alt:t.value.title},null,8,be)])):p("",!0),t.value.summary?(i(),r("div",Te,[e("div",xe,n(t.value.summary),1)])):p("",!0),e("div",Ie,[e("div",{class:"content-wrapper",innerHTML:t.value.content},null,8,De)]),e("div",Ne,[e("div",Se,[s(v,{type:C.value?"primary":"default",onClick:A,class:"action-btn"},{default:a(()=>[s(_,null,{default:a(()=>[C.value?(i(),g(P,{key:0})):(i(),g(V,{key:1}))]),_:1}),d(" "+n(C.value?"已点赞":"点赞")+" ("+n(t.value.likeCount)+") ",1)]),_:1},8,["type"]),s(v,{type:f.value?"primary":"default",onClick:B,class:"action-btn"},{default:a(()=>[s(_,null,{default:a(()=>[f.value?(i(),g(Q,{key:0})):(i(),g(W,{key:1}))]),_:1}),d(" "+n(f.value?"已收藏":"收藏")+" ("+n(t.value.collectCount)+") ",1)]),_:1},8,["type"]),s(v,{onClick:D,class:"action-btn"},{default:a(()=>[s(_,null,{default:a(()=>[s(N)]),_:1}),o[5]||(o[5]=d(" 分享 "))]),_:1,__:[5]})]),e("div",Ve,[e("div",$e,[o[6]||(o[6]=e("span",{class:"info-label"},"发布时间：",-1)),e("span",Le,n(w(t.value.publishTime)),1)]),t.value.updateTime?(i(),r("div",Ee,[o[7]||(o[7]=e("span",{class:"info-label"},"更新时间：",-1)),e("span",Me,n(w(t.value.updateTime)),1)])):p("",!0),e("div",ze,[o[8]||(o[8]=e("span",{class:"info-label"},"阅读量：",-1)),e("span",Ae,n(t.value.viewCount),1)])])])]),b.value.length>0?(i(),r("div",Be,[e("div",Fe,[o[9]||(o[9]=e("div",{class:"card-header"},[e("h2",null,"相关资讯")],-1)),e("div",He,[e("div",Re,[(i(!0),r(T,null,x(b.value,l=>(i(),r("div",{key:l.id,class:"related-item",onClick:$=>Y(l.id)},[l.coverImage?(i(),r("div",Ue,[e("img",{src:l.coverImage,alt:l.title},null,8,je)])):p("",!0),e("div",Ge,[e("h3",Oe,n(l.title),1),e("p",Ze,n(l.summary),1),e("div",qe,[e("span",null,n(w(l.publishTime)),1),e("span",null,n(l.viewCount)+" 次阅读",1)])])],8,Ye))),128))])])])])):p("",!0),t.value.allowComment?(i(),r("div",Je,[e("div",Ke,[e("div",Pe,[e("h2",null,"评论 ("+n(k.value.length)+")",1)]),e("div",Qe,[e("div",We,[s(X,{modelValue:h.value,"onUpdate:modelValue":o[1]||(o[1]=l=>h.value=l),type:"textarea",rows:3,placeholder:"写下你的评论...",class:"modern-input"},null,8,["modelValue"]),e("div",Xe,[s(v,{type:"primary",onClick:F,disabled:!h.value.trim(),class:"modern-btn primary"},{default:a(()=>o[10]||(o[10]=[d(" 发表评论 ")])),_:1,__:[10]},8,["disabled"])])]),k.value.length>0?(i(),r("div",et,[(i(!0),r(T,null,x(k.value,l=>(i(),r("div",{key:l.id,class:"comment-item"},[e("div",tt,[s(ee,{src:l.avatar,size:40},{default:a(()=>[d(n(l.author.charAt(0)),1)]),_:2},1032,["src"])]),e("div",st,[e("div",ot,[e("span",lt,n(l.author),1),e("span",nt,n(w(l.createTime)),1)]),e("div",at,n(l.content),1),e("div",ct,[s(v,{type:"text",size:"small",onClick:$=>H(l)},{default:a(()=>o[11]||(o[11]=[d(" 回复 ")])),_:2,__:[11]},1032,["onClick"]),s(v,{type:"text",size:"small",onClick:$=>R(l)},{default:a(()=>[s(_,null,{default:a(()=>[s(V)]),_:1}),d(" "+n(l.likeCount||0),1)]),_:2},1032,["onClick"])])])]))),128))])):(i(),r("div",it,[s(te,{description:"暂无评论，快来发表第一条评论吧！"})]))])])])):p("",!0)])}}},_t=se(ut,[["__scopeId","data-v-506593f9"]]);export{_t as default};
