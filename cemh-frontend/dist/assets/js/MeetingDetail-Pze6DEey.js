import{_ as tt,a as y,o as st,c as _,b as t,C,A as e,p as n,z as l,t as a,f as d,I as B,F as M,d as T,G as et,E as m,Z as ot,j as nt,k as u,w as $,L as it}from"./index-Ntw4s37F.js";const at={class:"meeting-detail modern-page"},dt={class:"page-header"},lt={class:"header-content"},ct={class:"header-left"},rt={class:"header-actions"},_t={class:"meeting-info-section"},ut={class:"modern-card"},mt={class:"card-header"},vt={class:"card-body"},pt={class:"info-grid"},ft={class:"info-item"},ht={class:"info-value"},gt={class:"info-item"},yt={class:"info-value"},bt={class:"info-item"},kt={class:"info-value"},wt={class:"info-item"},Ct={class:"info-value"},Mt={class:"info-item"},Tt={class:"info-value"},xt={class:"info-item"},zt={class:"info-value"},Dt={key:0,class:"meeting-description-section"},Lt={class:"modern-card"},At={class:"card-body"},Bt=["innerHTML"],$t={class:"participants-section"},Ft={class:"modern-card"},Ht={class:"card-header"},Et={class:"participant-stats"},St={class:"stat-item"},Nt={class:"stat-item"},It={class:"card-body"},Ut={class:"participants-list"},Vt={class:"participant-avatar"},Yt={class:"participant-info"},jt={class:"participant-name"},Gt={class:"participant-dept"},Pt={class:"participant-status"},Qt={key:1,class:"attachments-section"},Rt={class:"modern-card"},Kt={class:"card-header"},Zt={class:"attachment-count"},qt={class:"card-body"},Jt={class:"attachments-list"},Ot=["onClick"],Wt={class:"attachment-icon"},Xt={class:"attachment-info"},ts={class:"attachment-name"},ss={class:"attachment-meta"},es={class:"attachment-actions"},os={key:2,class:"meeting-notes-section"},ns={class:"modern-card"},is={class:"card-header"},as={class:"card-body"},ds=["innerHTML"],ls={class:"history-section"},cs={class:"modern-card"},rs={class:"card-body"},_s={class:"history-timeline"},us={class:"timeline-content"},ms={class:"timeline-title"},vs={class:"timeline-meta"},ps={__name:"MeetingDetail",setup(fs){const F=et(),x=nt(),c=y({id:"",title:"",type:"",startTime:"",endTime:"",location:"",organizer:"",description:"",status:1,notes:""}),p=y([]),f=y([]),z=y([]),H=computed(()=>p.value.filter(o=>o.status===1).length),E=computed(()=>p.value.filter(o=>o.status===0).length),S=async()=>{try{const o=F.params.id;c.value={id:o,title:"2024年第一季度业务回顾会议",type:"季度会议",startTime:"2024-06-20 14:00:00",endTime:"2024-06-20 16:00:00",location:"会议室A",organizer:"张三",description:"<p>本次会议将回顾第一季度的业务情况，分析存在的问题，制定下一步的工作计划。</p>",status:1,notes:"<p>会议要点：<br/>1. Q1业绩达成率95%<br/>2. 客户满意度提升3%<br/>3. 下季度重点关注新产品推广</p>"},p.value=[{id:1,name:"李四",department:"销售部",status:1,avatar:""},{id:2,name:"王五",department:"市场部",status:1,avatar:""},{id:3,name:"赵六",department:"技术部",status:0,avatar:""}],f.value=[{id:1,name:"Q1业务报告.pdf",size:2048576,uploadTime:"2024-06-19 10:00:00"},{id:2,name:"市场分析.xlsx",size:1024e3,uploadTime:"2024-06-19 11:30:00"}],z.value=[{action:"创建会议",operator:"张三",time:"2024-06-18 09:00:00"},{action:"添加参会人员",operator:"张三",time:"2024-06-18 09:30:00"},{action:"上传附件",operator:"李四",time:"2024-06-19 10:00:00"}]}catch{m.error("加载会议详情失败")}},N=()=>{x.push(`/dashboard/meetings/edit/${c.value.id}`)},I=async o=>{switch(o){case"copy":m.success("会议已复制");break;case"export":m.success("导出功能开发中");break;case"delete":try{await it.confirm("确定要删除这个会议吗？","确认删除",{type:"warning"}),m.success("会议已删除"),x.push("/dashboard/meetings")}catch{}break}},U=()=>{m.info("编辑会议记录功能开发中")},D=o=>{m.success(`下载 ${o.name}`)},V=o=>{m.info(`预览 ${o.name}`)},h=o=>ot(o).format("YYYY-MM-DD HH:mm"),Y=o=>{if(o===0)return"0 B";const s=1024,b=["B","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(s));return parseFloat((o/Math.pow(s,r)).toFixed(2))+" "+b[r]},j=o=>({0:"info",1:"success",2:"warning",3:"danger"})[o]||"info",G=o=>({0:"待开始",1:"进行中",2:"已结束",3:"已取消"})[o]||"未知",P=o=>o===1?"success":"warning",Q=o=>o===1?"已确认":"待确认";return st(()=>{S()}),(o,s)=>{const b=l("ArrowLeft"),r=l("el-icon"),v=l("el-button"),L=l("Edit"),R=l("ArrowDown"),k=l("el-dropdown-item"),K=l("el-dropdown-menu"),Z=l("el-dropdown"),A=l("el-tag"),w=l("Clock"),q=l("Location"),J=l("User"),O=l("UserFilled"),W=l("el-avatar"),X=l("Document");return u(),_("div",at,[t("div",dt,[t("div",lt,[t("div",ct,[e(v,{type:"text",onClick:s[0]||(s[0]=i=>o.$router.go(-1)),class:"back-btn"},{default:n(()=>[e(r,null,{default:n(()=>[e(b)]),_:1}),s[1]||(s[1]=d(" 返回 "))]),_:1,__:[1]}),s[2]||(s[2]=t("h1",{class:"page-title"},"会议详情",-1))]),t("div",rt,[e(v,{type:"primary",onClick:N,class:"modern-btn primary"},{default:n(()=>[e(r,null,{default:n(()=>[e(L)]),_:1}),s[3]||(s[3]=d(" 编辑会议 "))]),_:1,__:[3]}),e(Z,{onCommand:I},{dropdown:n(()=>[e(K,null,{default:n(()=>[e(k,{command:"copy"},{default:n(()=>s[5]||(s[5]=[d("复制会议")])),_:1,__:[5]}),e(k,{command:"export"},{default:n(()=>s[6]||(s[6]=[d("导出详情")])),_:1,__:[6]}),e(k,{command:"delete",divided:""},{default:n(()=>s[7]||(s[7]=[d("删除会议")])),_:1,__:[7]})]),_:1})]),default:n(()=>[e(v,{class:"modern-btn secondary"},{default:n(()=>[s[4]||(s[4]=d(" 更多操作 ")),e(r,null,{default:n(()=>[e(R)]),_:1})]),_:1,__:[4]})]),_:1})])])]),t("div",_t,[t("div",ut,[t("div",mt,[s[8]||(s[8]=t("h2",null,"基本信息",-1)),e(A,{type:j(c.value.status),class:"status-tag"},{default:n(()=>[d(a(G(c.value.status)),1)]),_:1},8,["type"])]),t("div",vt,[t("div",pt,[t("div",ft,[s[9]||(s[9]=t("div",{class:"info-label"},"会议主题",-1)),t("div",ht,a(c.value.title),1)]),t("div",gt,[s[10]||(s[10]=t("div",{class:"info-label"},"会议类型",-1)),t("div",yt,a(c.value.type),1)]),t("div",bt,[s[11]||(s[11]=t("div",{class:"info-label"},"开始时间",-1)),t("div",kt,[e(r,null,{default:n(()=>[e(w)]),_:1}),d(" "+a(h(c.value.startTime)),1)])]),t("div",wt,[s[12]||(s[12]=t("div",{class:"info-label"},"结束时间",-1)),t("div",Ct,[e(r,null,{default:n(()=>[e(w)]),_:1}),d(" "+a(h(c.value.endTime)),1)])]),t("div",Mt,[s[13]||(s[13]=t("div",{class:"info-label"},"会议地点",-1)),t("div",Tt,[e(r,null,{default:n(()=>[e(q)]),_:1}),d(" "+a(c.value.location),1)])]),t("div",xt,[s[14]||(s[14]=t("div",{class:"info-label"},"组织者",-1)),t("div",zt,[e(r,null,{default:n(()=>[e(J)]),_:1}),d(" "+a(c.value.organizer),1)])])])])])]),c.value.description?(u(),_("div",Dt,[t("div",Lt,[s[15]||(s[15]=t("div",{class:"card-header"},[t("h2",null,"会议描述")],-1)),t("div",At,[t("div",{class:"description-content",innerHTML:c.value.description},null,8,Bt)])])])):C("",!0),t("div",$t,[t("div",Ft,[t("div",Ht,[s[16]||(s[16]=t("h2",null,"参会人员",-1)),t("div",Et,[t("span",St,[e(r,null,{default:n(()=>[e(O)]),_:1}),d(" 已确认: "+a(B(H)),1)]),t("span",Nt,[e(r,null,{default:n(()=>[e(w)]),_:1}),d(" 待确认: "+a(B(E)),1)])])]),t("div",It,[t("div",Ut,[(u(!0),_(M,null,T(p.value,i=>(u(),_("div",{key:i.id,class:"participant-item"},[t("div",Vt,[e(W,{src:i.avatar,size:40},{default:n(()=>[d(a(i.name.charAt(0)),1)]),_:2},1032,["src"])]),t("div",Yt,[t("div",jt,a(i.name),1),t("div",Gt,a(i.department),1)]),t("div",Pt,[e(A,{type:P(i.status),size:"small"},{default:n(()=>[d(a(Q(i.status)),1)]),_:2},1032,["type"])])]))),128))])])])]),f.value.length>0?(u(),_("div",Qt,[t("div",Rt,[t("div",Kt,[s[17]||(s[17]=t("h2",null,"会议附件",-1)),t("span",Zt,a(f.value.length)+" 个文件",1)]),t("div",qt,[t("div",Jt,[(u(!0),_(M,null,T(f.value,i=>(u(),_("div",{key:i.id,class:"attachment-item",onClick:g=>D(i)},[t("div",Wt,[e(r,null,{default:n(()=>[e(X)]),_:1})]),t("div",Xt,[t("div",ts,a(i.name),1),t("div",ss,a(Y(i.size))+" • "+a(h(i.uploadTime)),1)]),t("div",es,[e(v,{type:"text",onClick:$(g=>V(i),["stop"])},{default:n(()=>s[18]||(s[18]=[d(" 预览 ")])),_:2,__:[18]},1032,["onClick"]),e(v,{type:"text",onClick:$(g=>D(i),["stop"])},{default:n(()=>s[19]||(s[19]=[d(" 下载 ")])),_:2,__:[19]},1032,["onClick"])])],8,Ot))),128))])])])])):C("",!0),c.value.notes?(u(),_("div",os,[t("div",ns,[t("div",is,[s[21]||(s[21]=t("h2",null,"会议记录",-1)),e(v,{type:"text",onClick:U,class:"edit-notes-btn"},{default:n(()=>[e(r,null,{default:n(()=>[e(L)]),_:1}),s[20]||(s[20]=d(" 编辑 "))]),_:1,__:[20]})]),t("div",as,[t("div",{class:"notes-content",innerHTML:c.value.notes},null,8,ds)])])])):C("",!0),t("div",ls,[t("div",cs,[s[23]||(s[23]=t("div",{class:"card-header"},[t("h2",null,"操作历史")],-1)),t("div",rs,[t("div",_s,[(u(!0),_(M,null,T(z.value,(i,g)=>(u(),_("div",{key:g,class:"timeline-item"},[s[22]||(s[22]=t("div",{class:"timeline-dot"},null,-1)),t("div",us,[t("div",ms,a(i.action),1),t("div",vs,a(i.operator)+" • "+a(h(i.time)),1)])]))),128))])])])])])}}},gs=tt(ps,[["__scopeId","data-v-992df952"]]);export{gs as default};
